(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue")):typeof define=="function"&&define.amd?define(["vue"],d):(e=typeof globalThis<"u"?globalThis:e||self,e["vue3-xuan-carousel"]=d(e.Vue))})(this,function(e){"use strict";const d="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTIwIDQ0IDAgMjQgMjAgNGwyLjggMi44NUw1LjY1IDI0IDIyLjggNDEuMTVaIi8+PC9zdmc+",L="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0ibTE1LjIgNDMuOS0yLjgtMi44NUwyOS41NSAyMy45IDEyLjQgNi43NWwyLjgtMi44NSAyMCAyMFoiLz48L3N2Zz4=",k=(o,n,r,s,c,m,y,i)=>{const h=e.ref(""),u=e.ref(""),t=e.ref(1),a=e.ref(!0),p=e.ref(!0),S=e.ref(null),x=e.ref(null),_=e.ref(n),A=e.computed(()=>({width:r,height:c,maxWidth:s===""?r:s})),D=e.computed(()=>u.value.length===0?{transition:`all ${i}px`,transform:`translateX(${I.value}%)`}:{transition:u.value,transform:`translateX(${I.value}%)`}),f=e.computed(()=>{const l=o,g=l.length-1;return[l[g],...l,l[0]]}),I=e.computed(()=>-1*t.value*(100/f.value.length)),W=()=>{!a.value||(t.value=t.value-1,v(i),_.value&&b(3e3))},H=()=>{!a.value||(t.value=t.value+1,v(i),_.value&&b(3e3))},v=l=>{a.value=!1,setTimeout(()=>{a.value=!0},l)},N=l=>{setTimeout(()=>{u.value="none",t.value=l},i)},b=l=>{p.value=!1,clearTimeout(S.value),S.value=setTimeout(()=>{p.value=!0},l)};e.watch(()=>t.value,()=>{if(t.value===0){const l=f.value.length-2;N(l),u.value=`all ${i}ms`}t.value===f.value.length-1&&(N(1),u.value=`all ${i}ms`),(t.value===2||t.value===f.value.length-3)&&(u.value=`all ${i}ms`)}),e.watch(()=>p.value,()=>{if(!!_.value){if(!p.value){clearInterval(x.value);return}x.value=setInterval(()=>{t.value=t.value+1},y+i)}},{immediate:!0});const w=()=>{var l,g,M,B;h.value=`${(g=(l=m.value)==null?void 0:l.offsetWidth)!=null?g:0}px`,console.log(`${(B=(M=m.value)==null?void 0:M.offsetWidth)!=null?B:0}px`)};return e.onMounted(()=>{w(),window.addEventListener("resize",w)}),e.onBeforeUnmount(()=>{window.removeEventListener("resize",w)}),{onPref:W,onNext:H,containerStyle:D,carouselStyle:A,carouselItems:f,slideWidth:h}},C=["src"],E=e.defineComponent({__name:"Slide",props:{width:{type:String,default:""},height:{type:String,default:""},src:{type:String,default:""}},setup(o){const n=o,r=e.computed(()=>({width:n.width,height:n.height,maxWidth:n.width}));return(s,c)=>(e.openBlock(),e.createElementBlock("img",{src:o.src,style:e.normalizeStyle(e.unref(r))},null,12,C))}}),$="",T=((o,n)=>{const r=o.__vccOpts||o;for(const[s,c]of n)r[s]=c;return r})(E,[["__scopeId","data-v-aa96cbf3"]]),P=[e.createElementVNode("img",{src:d,style:{width:"25px",height:"25px","margin-left":"10px"}},null,-1)],j=[e.createElementVNode("img",{src:L,style:{width:"25px",height:"25px"}},null,-1)],z=e.defineComponent({__name:"Carousel",props:{items:{type:Array,default:[]},autoPlay:{type:Boolean,default:!1},width:{type:String,default:"100%"},maxWidth:{type:String,default:""},height:{type:String,default:"100%"},autoSwitchInterval:{type:Number,default:3e3},slideDuration:{type:Number,default:1e3}},setup(o){const n=o,r=e.ref(null),{onNext:s,onPref:c,containerStyle:m,carouselStyle:y,carouselItems:i,slideWidth:h}=k(n.items,n.autoPlay,n.width,n.maxWidth,n.height,r,n.autoSwitchInterval,n.slideDuration);return(u,t)=>o.items.length!==0?(e.openBlock(),e.createElementBlock("div",{key:0,id:"carousel",ref_key:"carouselRef",ref:r,style:e.normalizeStyle(e.unref(y))},[e.createElementVNode("div",{id:"carousel-container",style:e.normalizeStyle(e.unref(m))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i),a=>(e.openBlock(),e.createBlock(T,{key:a.id,src:a.img,width:e.unref(h),height:n.height},null,8,["src","width","height"]))),128))],4),e.createElementVNode("button",{class:"carousel-btn btnPrev",onClick:t[0]||(t[0]=(...a)=>e.unref(c)&&e.unref(c)(...a))},P),e.createElementVNode("button",{class:"carousel-btn btnNext",onClick:t[1]||(t[1]=(...a)=>e.unref(s)&&e.unref(s)(...a))},j)],4)):e.createCommentVNode("",!0)}}),O="";return o=>{o.component("vue3-xuan-carousel",z)}});
