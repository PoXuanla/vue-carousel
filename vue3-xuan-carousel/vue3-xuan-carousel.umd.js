(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue")):typeof define=="function"&&define.amd?define(["vue"],d):(e=typeof globalThis<"u"?globalThis:e||self,e["vue3-xuan-carousel"]=d(e.Vue))})(this,function(e){"use strict";const d="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTIwIDQ0IDAgMjQgMjAgNGwyLjggMi44NUw1LjY1IDI0IDIyLjggNDEuMTVaIi8+PC9zdmc+",L="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0ibTE1LjIgNDMuOS0yLjgtMi44NUwyOS41NSAyMy45IDEyLjQgNi43NWwyLjgtMi44NSAyMCAyMFoiLz48L3N2Zz4=",E=(o,l,r,i,c,m,y,s)=>{const h=e.ref(""),u=e.ref(""),t=e.ref(1),a=e.ref(!0),p=e.ref(!0),S=e.ref(null),x=e.ref(null),_=e.ref(l),A=e.computed(()=>({width:r,height:c,maxWidth:i===""?r:i})),D=e.computed(()=>u.value.length===0?{transition:`all ${s}px`,transform:`translateX(${I.value}%)`}:{transition:u.value,transform:`translateX(${I.value}%)`}),f=e.computed(()=>{const n=o,g=n.length-1;return[n[g],...n,n[0]]}),I=e.computed(()=>-1*t.value*(100/f.value.length)),H=()=>{!a.value||(t.value=t.value-1,v(s),_.value&&b(3e3))},W=()=>{!a.value||(t.value=t.value+1,v(s),_.value&&b(3e3))},v=n=>{a.value=!1,setTimeout(()=>{a.value=!0},n)},N=n=>{setTimeout(()=>{u.value="none",t.value=n},s)},b=n=>{p.value=!1,clearTimeout(S.value),S.value=setTimeout(()=>{p.value=!0},n)};e.watch(()=>t.value,()=>{if(t.value===0){const n=f.value.length-2;N(n),u.value=`all ${s}ms`}t.value===f.value.length-1&&(N(1),u.value=`all ${s}ms`),(t.value===2||t.value===f.value.length-3)&&(u.value=`all ${s}ms`)}),e.watch(()=>p.value,()=>{if(!!_.value){if(!p.value){clearInterval(x.value);return}x.value=setInterval(()=>{t.value=t.value+1},y+s)}},{immediate:!0});const w=()=>{var n,g,M,B;h.value=`${(g=(n=m.value)==null?void 0:n.offsetWidth)!=null?g:0}px`,console.log(`${(B=(M=m.value)==null?void 0:M.offsetWidth)!=null?B:0}px`)};return e.onMounted(()=>{w(),window.addEventListener("resize",w)}),e.onBeforeUnmount(()=>{window.removeEventListener("resize",w)}),{onPref:H,onNext:W,containerStyle:D,carouselStyle:A,carouselItems:f,slideWidth:h}},T=["src"],k=e.defineComponent({__name:"Slide",props:{width:{type:String,default:""},height:{type:String,default:""},src:{type:String,default:""}},setup(o){const l=o,r=e.computed(()=>({width:l.width,height:l.height}));return(i,c)=>(e.openBlock(),e.createElementBlock("img",{src:o.src,style:e.normalizeStyle(e.unref(r))},null,12,T))}}),$="",C=((o,l)=>{const r=o.__vccOpts||o;for(const[i,c]of l)r[i]=c;return r})(k,[["__scopeId","data-v-baf4adcf"]]),P=[e.createElementVNode("img",{src:d,style:{width:"25px",height:"25px","margin-left":"10px"}},null,-1)],j=[e.createElementVNode("img",{src:L,style:{width:"25px",height:"25px"}},null,-1)],z=e.defineComponent({__name:"Carousel",props:{items:{type:Array,default:[]},autoPlay:{type:Boolean,default:!0},width:{type:String,default:"100%"},maxWidth:{type:String,default:""},height:{type:String,default:"100%"},autoSwitchInterval:{type:Number,default:3e3},slideDuration:{type:Number,default:1e3}},setup(o){const l=o,r=e.ref(null),{onNext:i,onPref:c,containerStyle:m,carouselStyle:y,carouselItems:s,slideWidth:h}=E(l.items,l.autoPlay,l.width,l.maxWidth,l.height,r,l.autoSwitchInterval,l.slideDuration);return(u,t)=>(e.openBlock(),e.createElementBlock("div",{id:"carousel",ref_key:"carouselRef",ref:r,style:e.normalizeStyle(e.unref(y))},[e.createElementVNode("div",{class:"container",style:e.normalizeStyle(e.unref(m))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),a=>(e.openBlock(),e.createBlock(C,{key:a.id,src:a.img,width:e.unref(h),height:l.height},null,8,["src","width","height"]))),128))],4),e.createElementVNode("button",{class:"btn btnPrev",onClick:t[0]||(t[0]=(...a)=>e.unref(c)&&e.unref(c)(...a))},P),e.createElementVNode("button",{class:"btn btnNext",onClick:t[1]||(t[1]=(...a)=>e.unref(i)&&e.unref(i)(...a))},j)],4))}}),O="";return o=>{o.component("vue3-xuan-carousel",z)}});
