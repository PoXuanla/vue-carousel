(function(e,f){typeof exports=="object"&&typeof module<"u"?module.exports=f(require("vue")):typeof define=="function"&&define.amd?define(["vue"],f):(e=typeof globalThis<"u"?globalThis:e||self,e["vue3-xuan-carousel"]=f(e.Vue))})(this,function(e){"use strict";const f=(o,n,s,u,d,p,a)=>{const h=e.ref(""),i=e.ref(""),l=e.ref(1),c=e.ref(!0),r=e.ref(!0),S=e.ref(null),g=e.ref(null),y=e.ref(n),C=e.computed(()=>({width:s,height:u})),P=e.computed(()=>i.value.length===0?{transition:`all ${a}px`,transform:`translateX(${v.value}%)`}:{transition:i.value,transform:`translateX(${v.value}%)`}),m=e.computed(()=>{const t=o,_=t.length-1;return[t[_],...t,t[0]]}),v=e.computed(()=>-1*l.value*(100/m.value.length)),V=()=>{!c.value||(l.value=l.value-1,x(a),y.value&&k(3e3))},z=()=>{!c.value||(l.value=l.value+1,x(a),y.value&&k(3e3))},x=t=>{c.value=!1,setTimeout(()=>{c.value=!0},t)},b=t=>{setTimeout(()=>{i.value="none",l.value=t},a)},k=t=>{r.value=!1,clearTimeout(S.value),S.value=setTimeout(()=>{r.value=!0},t)};e.watch(()=>l.value,()=>{if(l.value===0){const t=m.value.length-2;b(t),i.value=`all ${a}ms`}l.value===m.value.length-1&&(b(1),i.value=`all ${a}ms`),(l.value===2||l.value===m.value.length-3)&&(i.value=`all ${a}ms`)}),e.watch(()=>r.value,()=>{if(!!y.value){if(!r.value){clearInterval(g.value);return}g.value=setInterval(()=>{l.value=l.value+1},p+a)}},{immediate:!0});const w=()=>{var t,_;h.value=`${(_=(t=d.value)==null?void 0:t.offsetWidth)!=null?_:0}px`};return e.onMounted(()=>{w(),window.addEventListener("resize",w)}),e.onBeforeUnmount(()=>{window.removeEventListener("resize",w)}),{onPref:V,onNext:z,containerStyle:P,carouselStyle:C,carouselItems:m,slideWidth:h}},N=["src"],I=e.defineComponent({__name:"Slide",props:{width:{type:String,default:""},height:{type:String,default:""},src:{type:String,default:""}},setup(o){const n=o,s=e.computed(()=>({width:n.width,height:n.height}));return(u,d)=>(e.openBlock(),e.createElementBlock("img",{src:o.src,style:e.normalizeStyle(e.unref(s))},null,12,N))}}),A="",B=((o,n)=>{const s=o.__vccOpts||o;for(const[u,d]of n)s[u]=d;return s})(I,[["__scopeId","data-v-baf4adcf"]]),E=[e.createElementVNode("span",{class:"material-symbols-outlined"}," arrow_back_ios_new ",-1)],T=[e.createElementVNode("span",{class:"material-symbols-outlined"}," arrow_forward_ios ",-1)],$=e.defineComponent({__name:"Carousel",props:{items:{type:Array,default:[]},autoPlay:{type:Boolean,default:!0},width:{type:String,default:"100%"},height:{type:String,default:"100%"},autoSwitchInterval:{type:Number,default:3e3},slideDuration:{type:Number,default:1e3}},setup(o){const n=o,s=e.ref(null),{onNext:u,onPref:d,containerStyle:p,carouselStyle:a,carouselItems:h,slideWidth:i}=f(n.items,n.autoPlay,n.width,n.height,s,n.autoSwitchInterval,n.slideDuration);return(l,c)=>(e.openBlock(),e.createElementBlock("div",{id:"carousel",ref_key:"carouselRef",ref:s,style:e.normalizeStyle(e.unref(a))},[e.createElementVNode("div",{class:"container",style:e.normalizeStyle(e.unref(p))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(h),r=>(e.openBlock(),e.createBlock(B,{key:r.id,src:r.img,width:e.unref(i),height:n.height},null,8,["src","width","height"]))),128))],4),e.createElementVNode("button",{class:"btn btnPrev",onClick:c[0]||(c[0]=(...r)=>e.unref(d)&&e.unref(d)(...r))},E),e.createElementVNode("button",{class:"btn btnNext",onClick:c[1]||(c[1]=(...r)=>e.unref(u)&&e.unref(u)(...r))},T)],4))}}),R="";return o=>{o.component("vue3-xuan-carousel",$)}});
