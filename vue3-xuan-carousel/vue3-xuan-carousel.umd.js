(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue")):typeof define=="function"&&define.amd?define(["vue"],d):(e=typeof globalThis<"u"?globalThis:e||self,e["vue3-xuan-carousel"]=d(e.Vue))})(this,function(e){"use strict";var d=document.createElement("style");d.textContent=`.slide[data-v-aa96cbf3]{object-fit:cover}#carousel{position:relative;overflow:hidden}#carousel-container{display:flex;position:absolute;height:100%}.carousel-btn{position:absolute;display:flex;justify-content:center;align-items:center;width:50px;height:50px;border:none;border-radius:50%;transform:translateY(-50%);background-color:#ffffff80}.btnPrev{top:50%;left:50px}.btnNext{top:50%;right:50px}
`,document.head.appendChild(d);const k="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTIwIDQ0IDAgMjQgMjAgNGwyLjggMi44NUw1LjY1IDI0IDIyLjggNDEuMTVaIi8+PC9zdmc+",B="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0ibTE1LjIgNDMuOS0yLjgtMi44NUwyOS41NSAyMy45IDEyLjQgNi43NWwyLjgtMi44NSAyMCAyMFoiLz48L3N2Zz4=",E=(l,n,r,s,c,m,y,i)=>{const h=e.ref(""),u=e.ref(""),t=e.ref(1),a=e.ref(!0),p=e.ref(!0),w=e.ref(null),v=e.ref(null),_=e.ref(n),D=e.computed(()=>({width:r,height:c,maxWidth:s===""?r:s})),W=e.computed(()=>u.value.length===0?{transition:`all ${i}px`,transform:`translateX(${S.value}%)`}:{transition:u.value,transform:`translateX(${S.value}%)`}),f=e.computed(()=>{const o=l,g=o.length-1;return[o[g],...o,o[0]]}),S=e.computed(()=>-1*t.value*(100/f.value.length)),H=()=>{!a.value||(t.value=t.value-1,I(i),_.value&&b(3e3))},$=()=>{!a.value||(t.value=t.value+1,I(i),_.value&&b(3e3))},I=o=>{a.value=!1,setTimeout(()=>{a.value=!0},o)},N=o=>{setTimeout(()=>{u.value="none",t.value=o},i)},b=o=>{p.value=!1,clearTimeout(w.value),w.value=setTimeout(()=>{p.value=!0},o)};e.watch(()=>t.value,()=>{if(t.value===0){const o=f.value.length-2;N(o),u.value=`all ${i}ms`}t.value===f.value.length-1&&(N(1),u.value=`all ${i}ms`),(t.value===2||t.value===f.value.length-3)&&(u.value=`all ${i}ms`)}),e.watch(()=>p.value,()=>{if(!!_.value){if(!p.value){clearInterval(v.value);return}v.value=setInterval(()=>{t.value=t.value+1},y+i)}},{immediate:!0});const x=()=>{var o,g,C,M;h.value=`${(g=(o=m.value)==null?void 0:o.offsetWidth)!=null?g:0}px`,console.log(`${(M=(C=m.value)==null?void 0:C.offsetWidth)!=null?M:0}px`)};return e.onMounted(()=>{x(),window.addEventListener("resize",x)}),e.onBeforeUnmount(()=>{window.removeEventListener("resize",x)}),{onPref:H,onNext:$,containerStyle:W,carouselStyle:D,carouselItems:f,slideWidth:h}},L=["src"],j=e.defineComponent({__name:"Slide",props:{width:{type:String,default:""},height:{type:String,default:""},src:{type:String,default:""}},setup(l){const n=l,r=e.computed(()=>({width:n.width,height:n.height,maxWidth:n.width}));return(s,c)=>(e.openBlock(),e.createElementBlock("img",{src:l.src,style:e.normalizeStyle(e.unref(r))},null,12,L))}}),V="",P=((l,n)=>{const r=l.__vccOpts||l;for(const[s,c]of n)r[s]=c;return r})(j,[["__scopeId","data-v-aa96cbf3"]]),T=[e.createElementVNode("img",{src:k,style:{width:"25px",height:"25px","margin-left":"10px"}},null,-1)],z=[e.createElementVNode("img",{src:B,style:{width:"25px",height:"25px"}},null,-1)],A=e.defineComponent({__name:"Carousel",props:{items:{type:Array,default:[]},autoPlay:{type:Boolean,default:!1},width:{type:String,default:"100%"},maxWidth:{type:String,default:""},height:{type:String,default:"100%"},autoSwitchInterval:{type:Number,default:3e3},slideDuration:{type:Number,default:1e3}},setup(l){const n=l,r=e.ref(null),{onNext:s,onPref:c,containerStyle:m,carouselStyle:y,carouselItems:i,slideWidth:h}=E(n.items,n.autoPlay,n.width,n.maxWidth,n.height,r,n.autoSwitchInterval,n.slideDuration);return(u,t)=>l.items.length!==0?(e.openBlock(),e.createElementBlock("div",{key:0,id:"carousel",ref_key:"carouselRef",ref:r,style:e.normalizeStyle(e.unref(y))},[e.createElementVNode("div",{id:"carousel-container",style:e.normalizeStyle(e.unref(m))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i),a=>(e.openBlock(),e.createBlock(P,{key:a.id,src:a.img,width:e.unref(h),height:n.height},null,8,["src","width","height"]))),128))],4),e.createElementVNode("button",{class:"carousel-btn btnPrev",onClick:t[0]||(t[0]=(...a)=>e.unref(c)&&e.unref(c)(...a))},T),e.createElementVNode("button",{class:"carousel-btn btnNext",onClick:t[1]||(t[1]=(...a)=>e.unref(s)&&e.unref(s)(...a))},z)],4)):e.createCommentVNode("",!0)}}),R="";return l=>{l.component("vue3-xuan-carousel",A)}});
